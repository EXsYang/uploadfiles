



# 1 ping通网络需要有三个重要IP配置正确



## 1.1 VMware内部虚拟机的IP `192.168.254.156`

上面这个是静态IP，在`/etc/sysconfig/network-scripts/ifcfg-ens33` 文件中配置的



## 1.2 V8网卡IP `192.168.254.1`

即在物理机(宿主机)的`网络`-`更改适配器选项`中 VMnet8网卡的IP

![image-20250830043559527](https://tgimgbed.999190.xyz/file/1756499763718_image-20250830043559527.png)

这个 `VMware Network Adapter VMnet8` 的 IP 地址 `192.168.254.1` 就是**宿主机**在这个由 VMware 创建的 `VMnet8` 虚拟网络中的 IP 地址。

您可以这样理解：

1. **VMnet8 是一个虚拟交换机**: 当您使用 VMware 的 NAT 模式时，它会创建一个名为 `VMnet8` 的虚拟网络环境，可以看作是一个虚拟的路由器或交换机。
2. **宿主机是网络中的一个设备**: 您的物理电脑（宿主机）也连接到了这个虚拟交换机上，它需要一个 IP 地址才能和这个网络里的其他设备（也就是您的虚拟机）通信。`192.168.254.1` 就是 VMware 分配给宿主机的地址。
3. **虚拟机也是网络中的设备**: 启动后连接到 VMnet8 网络的虚拟机的 IP 地址通常会是 `192.168.254.x` (例如 `192.168.254.128`, `192.168.254.129` 等)，它们的子网掩码也是 `255.255.255.0`。
4. **网关作用**: 对于虚拟机来说，它们的默认网关通常会被设置为 `192.168.254.2`。这个网关地址由 VMware 的虚拟 NAT 服务提供，负责将虚拟机的网络请求通过您的宿主机物理网卡（WLAN 2）转发到外部网络，从而让虚拟机能够访问互联网。

**总结一下：**

- **`192.168.254.1` (VMnet8)**: 是您**宿主机**在虚拟网络中的地址，用于和虚拟机直接通信。
- **`192.168.1.7` (WLAN 2)**: 是您**宿主机**在物理局域网（连接路由器）中的地址，用于连接互联网。



## 1.3 网关IP `192.168.254.2`

编辑网关IP的位置：`VMware软件-编辑-虚拟网络编辑器-NAT设置-网关`



![image-20250830043825822](https://tgimgbed.999190.xyz/file/1756499919473_image-20250830043825822.png)



VMware设置的网关要和在`/etc/sysconfig/network-scripts/ifcfg-ens33` 文件中配置的网关一致

![image-20250830043936949](https://tgimgbed.999190.xyz/file/1756499987693_image-20250830043936949.png)







# 2 遇到宿主机和虚拟机之间可以ping通，但是浏览器http访问不通



访问：[http://192.168.254.156:9011](http://192.168.254.156:9011/) 等不通。即使关闭所有防火墙也还是访问不到http页面。



解决方案：将VMware  还原为默认网络设置，重新配置即可



![image-20250830054417238](https://tgimgbed.999190.xyz/file/1756503879924_image-20250830054417238.png)





# 3 